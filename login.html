<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - MeowCraft</title>
    <link rel="icon" type="image/png" href="https://i.ibb.co/5XDLJ7F0/Adobe-Express-file.png">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="backgrounds.css">
    <link rel="stylesheet" href="auth.css">
    <link rel="stylesheet" href="icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <img src="https://i.ibb.co/5XDLJ7F0/Adobe-Express-file.png" alt="MeowCraft Logo" class="logo-img">
                <span class="brand-text">MeowCraft</span>
            </div>
            <button class="nav-toggle" id="navToggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-menu" id="navMenu">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="wiki.html" class="nav-link">Wiki</a></li>
                <li><a href="shop.html" class="nav-link">Shop</a></li>
                <li><a href="gym-leaders.html" class="nav-link">Gym Leaders</a></li>
                <li><a href="pokedex.html" class="nav-link">Pok√©dex</a></li>
                <li><a href="community.html" class="nav-link">Community</a></li>
                <li><a href="download.html" class="nav-link">Download</a></li>
            </ul>
        </div>
    </nav>

    <main class="auth-main">
        <div class="auth-container">
            <div class="auth-box discord-login-box">
                <div class="auth-header">
                    <img src="https://i.ibb.co/5XDLJ7F0/Adobe-Express-file.png" alt="MeowCraft" class="auth-logo">
                    <h1>Welcome to MeowCraft</h1>
                    <p>Login with your Discord account to continue</p>
                </div>

                <div class="discord-login-section">
                    <button class="discord-login-btn" id="discordLoginBtn">
                        <i class="fab fa-discord"></i>
                        <span>Continue with Discord</span>
                    </button>
                    <p class="discord-note">
                        <i class="fas fa-shield-alt"></i>
                        Secure login powered by Discord OAuth2
                    </p>
                </div>

                <div class="login-benefits">
                    <h3>What you'll get:</h3>
                    <ul>
                        <li><i class="fas fa-check"></i> Link your Minecraft username</li>
                        <li><i class="fas fa-check"></i> Purchase ranks & items from the shop</li>
                        <li><i class="fas fa-check"></i> Get Discord roles for purchases</li>
                        <li><i class="fas fa-check"></i> Track your purchase history</li>
                        <li><i class="fas fa-check"></i> Compete on the shop leaderboard</li>
                    </ul>
                </div>
            </div>

            <div class="auth-features">
                <h2>Why Login with Discord?</h2>
                <div class="feature-list">
                    <div class="feature-item">
                        <span class="feature-icon"><i class="fab fa-discord"></i></span>
                        <div>
                            <h3>One-Click Login</h3>
                            <p>No passwords to remember - just use your Discord</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon"><i class="fas fa-shopping-cart"></i></span>
                        <div>
                            <h3>Shop Access</h3>
                            <p>Purchase ranks, items, and cosmetics</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon"><i class="fas fa-medal"></i></span>
                        <div>
                            <h3>Discord Roles</h3>
                            <p>Automatically get roles when you purchase</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon"><i class="fas fa-trophy"></i></span>
                        <div>
                            <h3>Leaderboards</h3>
                            <p>Compete for top supporter status</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Discord OAuth Configuration
        const DISCORD_CLIENT_ID = '1427935073570652284';
        const REDIRECT_URI = window.location.origin + '/api/auth/discord/callback';
        const DISCORD_AUTH_URL = `https://discord.com/api/oauth2/authorize?client_id=${DISCORD_CLIENT_ID}&redirect_uri=${encodeURIComponent(REDIRECT_URI)}&response_type=code&scope=identify%20guilds.join`;

        // Check if user is already logged in
        document.addEventListener('DOMContentLoaded', function() {
            const user = localStorage.getItem('meowcraft_user');
            if (user) {
                window.location.href = '/profile.html';
            }
        });

        // Discord Login Button
        document.getElementById('discordLoginBtn').addEventListener('click', function() {
            window.location.href = DISCORD_AUTH_URL;
        });

        // Mobile nav toggle
        document.getElementById('navToggle').addEventListener('click', function() {
            document.getElementById('navMenu').classList.toggle('active');
        });
    </script>
</body>
</html>
